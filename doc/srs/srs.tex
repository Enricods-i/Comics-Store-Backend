\documentclass{scrreprt}

\usepackage{listings}
\usepackage{underscore}
\usepackage{scrhack}
\usepackage[utf8]{inputenc}

\usepackage{hyperref}
\hypersetup{
    pdftitle={Software Requirement Specification},  % title
    pdfauthor={Enrico De Salve},                    % author
    pdfsubject={Comics Store Back-End},             % subject of the document
    colorlinks=true,                                % false: boxed links; true: colored links
    linkcolor=red,                                  % color of internal links
    citecolor=black,                                % color of links to bibliography
    filecolor=black,                                % color of file links
    urlcolor=orange,                                % color of external links
    linktoc=page                                    % only page is linked
}
\def\myversion{ 1.0 }
\date{Maggio 2022}

\begin{document}

\begin{flushright}
    \rule{14cm}{5pt}\vskip1cm
    \begin{bfseries}
        \Huge{DOCUMENTO DI SPECIFICA\\ DEI REQUISITI SOFTWARE}\\
        \vspace{1.9cm}
        Comics Store Back-End\\
        \vspace{1.9cm}
        Enrico De Salve\\
        \vspace{1.9cm}
    \end{bfseries}
\end{flushright}

\tableofcontents

\chapter{Introduzione}

\section{Propositi}
Il proposito di questo documento è quello di specificare i requisiti del sistema software
"Comics Store Back-End" per facilitarne la realizzazione e la validazione.

\section{Obiettivi}\label{obiettivi}
Si vuole realizzare un web server che implementi dei servizi relativi alla gestione di un negozio online
associato ad una fumetteria.
\\[5pt]
Bisogna fornire al gestore della fumetteria la possibilità di aggiungere (e rimuovere) collezioni
di fumetti. Una collezione è caratterizzata da un titolo, da un'immagine di copertina e dai fumetti che
contiene. Il gestore deve poter aggiungere nuovi fumetti specificandone il numero dell'albo, il prezzo
unitario, lo scrittore ed il disegnatore, il numero di pagine, il codice ISBN ed una descrizione.
Per ogni fumetto si memorizza la quantità di copie disponibili nel catalogo; deve, naturalmente, essere
possibile aggiungere copie di un fumetto incrementandone la quantità.\\
Ogni collezione fa parte di almeno una categoria, ma in generale ci possono essere più categorie associate
ad una collezione. Una collezione è caratterizzata da un nome e da una breve descrizione. Il gestore deve
poter creare ed eliminare le categorie ed associarle alle varie collezioni.\\
Il gestore della fumetteria deve poter, inoltre, creare nuovi sconti specificandone la percentuale di sconto
e la data di scadenza e deve poter applicarli a vari fumetti.\\
Infine, il gestore deve poter richiedere la generazione di report indicanti, per un certo intervallo di tempo,
le vendite.\\
\\
Gli utenti (anche se non registrati) possono ricercare le collezioni per titolo, scrittore,
disegnatore e codice ISBN; l'ordinamento delle collezioni ricercate deve poter essere deciso
dall'utente. La ricerca per titolo deve mostrare anche le collezioni che corrispondono parzialmente
all’input dell’utente.\\
Ad esempio se l’utente cerca la parola “attacco” l’applicazione deve mostrargli la collezione
chiamata “L’attacco dei giganti” ma anche “Star Wars: l’attacco dei cloni” e tutte le collezioni
che contengano nel nome la parola “attacco”.\\
La ricerca mostra anche le collezioni contenenti fumetti che non sono disponibili per l'acquisto
(sono terminate le copie).\\
Gli utenti possono registrarsi fornendo nome, cognome, data di nascita, indirizzo e-mail e
facoltativamente numero di telefono, paese e città in cui abitano.\\
Dal momento in cui si registra l’utente possiede un carrello.\\
Un utente registrato che ha effettuato l'accesso ha a disposizione tutte le altre funzionalità offerte
dal sistema (oltre alla ricerca). Può aggiungere fumetti al suo carrello per poi acquistarli, naturalemente
i fumetti devono essere disponibili al momento dell'acquisto. Il contenuto del carrello deve essere memorizzato
cosi che quando l'utente effettua nuovamente l'accesso possa concludere l'acquisto, a seguito di un acquisto il
carrello viene svuotato.\\
Un utente registrato può creare (e a seguito di ciò eliminare) delle liste dei desideri, sono liste nelle quali
l'utente deve essere in grado di aggiungere qualunque fumetto (anche se non è attualmente disponibile nel catalogo).
Per ogni lista l'utente può scegliere se vuole essere notificato sulle modifiche relative ai fumetti presenti
nella lista desideri quali variazioni di prezzo, nuovi sconti o nuova disponobilità.\\
L'utente deve poter modificare alcune delle informazioni inserite in fase di registrazione (indirizzo e-mail,
numero di telefono, paese e città).

\section{Definizioni, acronimi ed abbreviazioni}
BE Back-End

\section{Riferimenti}
Nel documento "Progettazione base di dati" è riportata la struttura di memorizzazione dei dati.

\section{Panoramica}
La restante parte di questo documento contiene una descrizione dettagliata delle funzionalità richieste
al sistema software "Comics Store" secondo gli obiettivi espressi al punto \ref*{obiettivi}.


\chapter{Descrizione generale}

\section{Prospettive del prodotto}
Il sistema software "Comics Store BE" è la parte centrale di un'applicazione web (Comics Store per l'appunto),
rappresenta il componente che implementa la logica di business e che deve fornire un'interfaccia al componente client
dell'applicazione (il Front-End). L'interfaccia menzionata sarà una API REST.
Inoltre il sistema deve interagire con una base di dati che si occupa della memorizzazione e del reperimento dei dati.

\section{Funzionalità del prodotto}
Il sistema "Comics Store BE" deve:
\begin{itemize}
    \item Fornire la ricerca di collezioni di fumetti;
    \item Permettere solo agli utenti registrati di:
          \begin{itemize}
              \item aggiungere un fumetto al carrello;
              \item rimuovere un fumetto dal carrello;
              \item acquistare dei fumetti;
              \item creare liste desideri;
              \item eliminare liste desideri;
              \item aggiungere un fumetto ad una lista desideri;
              \item rimuovere un fumetto da una lista desideri;
              \item modificare alcune delle sue informazioni personali;
          \end{itemize}
    \item Permettere solo all'amministratore di:
          \begin{itemize}
              \item aggiungere una nuova collezione;
              \item eliminare una collezione esistente;
              \item creare una nuova categoria;
              \item eliminare una categoria;
              \item associare una collezione ad una categoria;
              \item dissociare una collezione da una categoria;
              \item aggiungere copie di un fumetto al catalogo;
              \item aggiungere un nuovo fumetto al catalogo;
              \item creare un nuovo sconto;
              \item applicare uno sconto ad un fumetto;
              \item generare report delle vendite;
          \end{itemize}
\end{itemize}

\section{Caratteristiche utente}
Il sistema software "Comics Store BE" è rivolto agli sviluppatori dell'interfaccia client che faranno
uso dei servizi forniti da questo sistema.

\section{Vincoli generali}
Riguardo all'inserimento nel catalogo di fumetti e collezioni bisogna garantire che un fumetto appartenga ad
\emph{una ed una sola} collezione e che una collezione appartenga ad \emph{almeno} una categoria.\\
Bisogna verificare che un utente non aggiunga più copie di un fumetto nel suo carrello di quante siano disponibili.\\
Prima di procedere all'acquisto dei prodotti contenuti nel carrello và verificato che per ognuno ci siano abbastanza
copie disponibili.


\chapter{Requisiti di interfaccia esterna}

\section{Interfaccia utente}
Il sistema software "Comics Store BE" deve essere dotato di un'interfaccia REST.

\section{Interfaccia hardware}
Il sistema software "Comics Store BE" non deve interfacciarsi con nessun sistema hardware.

\section{Interfaccia software}
Il sistema software "Comics Store BE" deve interfacciarsi con una base di dati per il salvataggio ed il reperimento
dei dati, è bene che si sia un livello di astrazione tra i due componenti in modo tale che si possa cambiare DBMS senza
alterare il funzionamento del sistema.\\
È anche necessario interfacciarsi con la piattaforma di pagamento Paypal che farà da intermediario durante l'acquisto.

\section{Interfaccia di comunicazione}
Il sistema software "Comics Store BE" deve comunicare con il lato client attraverso il protocollo HTTPS.\\
Il sistema deve comunicare con gli utenti anche via e-mail.


\chapter{Requisiti funzionali}

\section{Ricerca per titolo}\label{ricTitolo}

\subsection*{Introduzione}
Consente ad un utente di ricercare delle collezioni di fumetti per titolo.
\subsection*{Input}
Una sequenza di stringhe rappresentanti il titolo da ricercare.
\subsection*{Elaborazione}
Vengono visualizzate tutte le collezioni aventi un titolo che contiene in ordine tutte le stringhe della sequenza
in input. Per ciascuna collezione viene riportato il titolo e l'immagine di copertina.
\subsection*{Output}
L'elenco di collezioni risultato.

\section{Ricerca avanzata}

\subsection*{Introduzione}
Consente ad un utente di ricercare collezioni di fumetti per categoria, scrittore, disegnatore o codice ISBN.
\subsection*{Input}
I parametri della ricerca quindi il titolo, la categoria, lo scrittore, il disegnatore ed il codice ISBN.
In generale i parametri sono tutti opzionali ma almeno uno deve essere specificato.
\subsection*{Elaborazione}
Vengono visualizzate tutte le collezioni conformi ai parametri specificati in input. Per quanto riguarda
il titolo con conforme si intende come specificato nella sezione \ref*{ricTitolo}; tutti gli altri parametri
devono coincidere perfettamente con il campo corrispondente delle collezioni.
\subsection*{Output}
L'elenco di collezoini risultato.

\section{Aggiunta di un fumetto al carrello}

\subsection*{Introduzione}
Consente ad un utente registrato di aggiungere un fumetto al suo carrello.
\subsection*{Input}
Il fumetto da aggiungere e un identificativo dell'utente.
\subsection*{Elaborazione}
Se non ci sono copie del fumetto disponibili per l'acquisto nessuna aggiunta viene effettuata.
Se invece c'è almeno una copia disponibile e nel carrello il fumetto è già presente si incrementa
il numero di copie che l'utente intende acquistare, se il fumetto non è presente nel carrello si
aggiunge ad esso una copia.
\subsection*{Output}
La conferma dell'aggiunta.

\section{Rimozione di un fumetto dal carrello}

\subsection*{Introduzione}
Consente ad un utente registrato di rimuovere un fumetto dal suo carrello.
\subsection*{Input}
Il fumetto da rimuovere e un identificativo dell'utente.
\subsection*{Elaborazione}
Occorre verificare che ci siano copie del fumetto all'interno del carrello dell'utente.
Se c'è più di una copia viene decrementato il numero di copie del fumetto all'interno del carrello,
se c'è soltanto una copia il fumetto viene rimosso dal carrello. Se invece il fumetto non è presente
all'interno del carrello dell'utente non viene effettuata nessuna rimozione.
\subsection*{Output}
La conferma della rimozione.

\section{Acquisto dei fumetti}
DA FARE
\subsection*{Introduzione}
\subsection*{Input}
\subsection*{Elaborazione}
\subsection*{Output}

\section{Creazione lista desideri}

\subsection*{Introduzione}
Consente ad un utente registrato di creare una lista desideri.
\subsection*{Input}
Un identificativo dell'utente ed il nome della lista da creare.
\subsection*{Elaborazione}
Bisogna controllare che non esista già una lista con lo stesso nome creata dall'utente ed in tal
caso la si crea.
\subsection*{Output}
La conferma dell'avvenuta creazione.

\section{Eliminazione lista desideri}

\subsection*{Introduzione}
Consente ad un utente registrato di eliminare una lista desideri precedentemente creata.
\subsection*{Input}
Un identificativo dell’utente e la lista da eliminare.
\subsection*{Elaborazione}
Occorre verificare che la lista esista ed in tal caso la si elimina insieme a tutto il suo contenuto.
\subsection*{Output}
La conferma dell'avvenuta eliminazione.

\section{Aggiunta di un fumetto ad una lista desideri}

\subsection*{Introduzione}
Consente ad un utente registrato di aggiungere un fumetto ad una sua lista desideri.
\subsection*{Input}
Un identificativo dell'utente, la lista ed un fumetto.
\subsection*{Elaborazione}
Il fumetto da aggiungere può essere anche non disponibile. La lista però deve appartenere all'utente, nel
senso che l'ha creata lui.
Infine, volta controllato che la lista non contenga già il fumetto in questione lo si aggiunge; in caso
contrario la lista non viene modificata.
\subsection*{Output}
La conferma dell'avvenuta aggiunta.

\section{Rimozione di un fumetto da una lista desideri}

\subsection*{Introduzione}
Consente ad un utente registrato di rimuovere un fumetto da una sua lista desideri
\subsection*{Input}
Un identificativo dell'utente, la lista ed il fumetto.
\subsection*{Elaborazione}
Si controlla che la lista esista e che sia stata creata dall'utente e che il fumetto appartenga a questa lista,
dopodiché si effettua la rimozione. Se una delle condizioni sopra elencate non è soddisfatta la lista non viene modificata.
\subsection*{Output}
La conferma dell'avvenuta rimozione.


\section{Aggiornamento informazioni personali}

\subsection*{Introduzione}
Permette ad un utente registrato di modificare alcune delle informazioni inserite in fase di registrazione quali: indirizzo
e-mail, recapito telefonico, paese e città dove dimora.
\subsection*{Input}
Tutti i dati che l'utente vuole modificare insieme ai nuovi valori che essi dovranno assumere.
\subsection*{Elaborazione}
Si controlla che i nuovi valori rappresentino un input valido ed in seguito si procede alla modifica.
\subsection*{Output}
La conferma dell'avvenuta modifica.

\section{Creazione di collezioni}

\subsection*{Introduzione}
Consente all'amministratore di creare una nuova collezione di fumetti.
\subsection*{Input}
Il nome e l'immagine di copertina della collezione.
\subsection*{Elaborazione}
Bisogna controllare che non esista già una collezione con lo stesso nome dato in input, successivamente
si procede alla creazione della collezione.
\subsection*{Output}
La conferma dell'avvenuta creazione.

\section{Eliminazione di collezioni}

\subsection*{Introduzione}
Consente all'amministratore di eliminare collezioni precedentemente create. Bisogna precisare che questa operazione
è possibile solo se la collezione da eliminare è (ancora) vuota o contiene fumetti che non sono stati venduti neanche
una volta.
\subsection*{Input}
La collezione in questione.
\subsection*{Elaborazione}
Occorre controllare che la collezione esista e che essa sia vuota o che non contenga fumetti presenti in un qualiasi
ordine, sotto queste condizioni la si elimina insieme a tutto il suo contenuto.
\subsection*{Output}
La conferma dell'avvenuta eliminazione.

\section{Creazione di una categoria}

\subsection*{Introduzione}
Consente all'amministratore di creare una nuova categoria.
\subsection*{Input}
Il nome ed opzionalmente una descrizione per la categoria.
\subsection*{Elaborazione}
Si controlla che non esista una categoria con lo stesso nome passato in input e nel caso la si crea.
\subsection*{Output}
La conferma dell'avvenuta creazione.

\section{Eliminazione di una categoria}

\subsection*{Introduzione}
Permette all'amministratore di eliminare una categoria precedentemente creata, a patto che non esistano
collezioni che appartengano unicamente a questa categoria.
\subsection*{Input}
La categoria da eliminare.
\subsection*{Elaborazione}
Si controlla se esistano collezioni che appartengano soltanto alla categoria che si intende eliminare, se quest'ultime
non esistono si elimina la categoria.
\subsection*{Output}
La conferma dell'avvenuta eliminazione.

\section{Associazione di una collazione ad una categoria}

\subsection*{Introduzione}
Permette all'amministratore di associare una collezione ad una categoria.
\subsection*{Input}
La collezione e la categoria.
\subsection*{Elaborazione}
Occorre controllare che la collezione e la categoria esistano, in caso di risposta positiva le si associano: la
collezione specificata entra a far parte della categoria specificata
\subsection*{Output}
La conferma dell'avvenuta operazione.

\section{Dissociazione di una collezione da una categoria}

\subsection*{Introduzione}
Permette all'amministratore di dissociare una collezione da una categoria.
\subsection*{Input}
La collezione e la categoria.
\subsection*{Elaborazione}
Si controlla che la collezione e la categoria esistano e che la collezione sia associata alla categoria, sotto
queste condizioni l'operazione viene eseguita.
\subsection*{Output}
La conferma dell'avvenuta operazione.

\section{Aggiunta di copie del fumetto al catalogo}

\subsection*{Introduzione}
Consente all'amministratore di aggiungere un numero di copie di un fumetto presente nel catalogo.
\subsection*{Input}
Il fumetto ed il numero di copie da aggiungere.
\subsection*{Elaborazione}
Bisogna controllare che il fumetto sia presente nel catalogo e che il numero di copie passato in input sia
maggiore di zero, sotto queste condizioni si incrementa il campo quantità del fumetto del numero di copie
passato un input.
\subsection*{Output}
La conferma dell'avvenuta aggiunta.

\section{Aggiunta di un nuovo fumetto al catalogo}

\subsection*{Introduzione}
Permette all'amministratore di aggiungere un nuovo fumetto al catalogo specificandone i suoi dati.
\subsection*{Input}
Tutti i dati del nuovo fumetto: la collezione di cui fa parte, il numero, il prezzo unitario, la quantità
di copie disponibili, l'immagine di copertina, lo scrittore, il disegnatore, il numero di pagine, il codice
ISBN ed una descrizione.
\subsection*{Elaborazione}
Bisogna controllare che il numero del fumetto sia maggiore di zero e che non esista un fumetto appartenente alla
stessa collezione (che deve esistere) con lo stesso numero passato in input; il prezzo, la quantità e il numero
di pagine devono essere maggiori di zero; infine il codice ISBN deve essere valido.
Se tutte queste condizioni sono verificate si procede all'aggiunta del fumetto.
\subsection*{Output}
La conferma dell'avvenuta aggiunta.

\section{Creazione di un nuovo sconto}

\subsection*{Introduzione}
Consente all'amministratore di creare un nuovo sconto specificandone tutti i suoi dati.
\subsection*{Input}
La percentuale di sconto, la data di scadenza ed un nome.
\subsection*{Elaborazione}
Si controlla che la percentuale sia un numero compreso tra zero ed uno, che la data di scadenza non sia
antecedente alla data attuale e che non esista uno sconto con gli stessi dati (percentuale e data di scadenza).
Sotto queste condizioni si crea lo sconto.
\subsection*{Output}
La conferma dell'avvenuta creazione.

\section{Applicazione di uno sconto ad un fumetto}

\subsection*{Introduzione}
Consente all'amministratore di applicare uno sconto precedentemente creato a un fumetto presente nel catalogo.
\subsection*{Input}
Lo sconto ed il fumetto.
\subsection*{Elaborazione}
Bisogna controllare che lo sconto e il fumetto passati in input devono esistere e lo sconto non deve essere scaduto,
se queste condizioni sono verificare lo sconto viene applicato al fumetto.
\subsection*{Output}
La conferma dell'avvenuta operazione.

\section{Generazione report vendite}

\subsection*{Introduzione}
Consente all'amministratore di ottenere un report delle vendite in un intervallo di tempo da lui scelto
\subsection*{Input}
Un intervallo di tempo quindi una data di inizio ed una di fine.
\subsection*{Elaborazione}
L'intervallo passato in input deve essere valido: la data di fine deve essere successiva alla data di inizio ma
antecedente alla data attuale.
Si recuperano tutti gli ordini effettuati dagli utenti nell'intervallo specificato, per ogni ordine si mostra l'utente,
il costo totale, i fumetti acquistati e gli sconti applicati a ciascun fumetto.
\subsection*{Output}
L'elenco degli ordini risultato.

\section{}

\subsection*{Introduzione}
\subsection*{Input}
\subsection*{Elaborazione}
\subsection*{Output}


\chapter{Other Nonfunctional Requirements}

\section{Performance Requirements}
$<$If there are performance requirements for the product under various
circumstances, state them here and explain their rationale, to help the
developers understand the intent and make suitable design choices. Specify the
timing relationships for real time systems. Make such requirements as specific
as possible. You may need to state performance requirements for individual
functional requirements or features.$>$

\section{Safety Requirements}
$<$Specify those requirements that are concerned with possible loss, damage, or
harm that could result from the use of the product. Define any safeguards or
actions that must be taken, as well as actions that must be prevented. Refer to
any external policies or regulations that state safety issues that affect the
product’s design or use. Define any safety certifications that must be
satisfied.$>$

\section{Security Requirements}
$<$Specify any requirements regarding security or privacy issues surrounding use
of the product or protection of the data used or created by the product. Define
any user identity authentication requirements. Refer to any external policies or
regulations containing security issues that affect the product. Define any
security or privacy certifications that must be satisfied.$>$

\section{Software Quality Attributes}
$<$Specify any additional quality characteristics for the product that will be
important to either the customers or the developers. Some to consider are:
adaptability, availability, correctness, flexibility, interoperability,
maintainability, portability, reliability, reusability, robustness, testability,
and usability. Write these to be specific, quantitative, and verifiable when
possible. At the least, clarify the relative preferences for various attributes,
such as ease of use over ease of learning.$>$

\section{Business Rules}
$<$List any operating principles about the product, such as which individuals or
roles can perform which functions under specific circumstances. These are not
functional requirements in themselves, but they may imply certain functional
requirements to enforce the rules.$>$


\chapter{Other Requirements}
$<$Define any other requirements not covered elsewhere in the SRS. This might
include database requirements, internationalization requirements, legal
requirements, reuse objectives for the project, and so on. Add any new sections
that are pertinent to the project.$>$

\section{Appendix A: Glossary}
%see https://en.wikibooks.org/wiki/LaTeX/Glossary
$<$Define all the terms necessary to properly interpret the SRS, including
acronyms and abbreviations. You may wish to build a separate glossary that spans
multiple projects or the entire organization, and just include terms specific to
a single project in each SRS.$>$

\section{Appendix B: Analysis Models}
$<$Optionally, include any pertinent analysis models, such as data flow
diagrams, class diagrams, state-transition diagrams, or entity-relationship
diagrams.$>$

\section{Appendix C: To Be Determined List}
$<$Collect a numbered list of the TBD (to be determined) references that remain
in the SRS so they can be tracked to closure.$>$

\end{document}

